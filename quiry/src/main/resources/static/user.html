<!doctype html>
<html  ng-app="quiryApp">
<div ng-controller="userController">
	<head>
	<link rel="stylesheet" href="./css/styles.css"/>
	<!-- Latest compiled and minified CSS -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"/>

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"/>

	<!-- fontAwesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous"/>

	<!-- ng-tag CSS -->
	<link rel="stylesheet" href="http://mbenford.github.io/ngTagsInput/css/ng-tags-input.min.css" />
	<link rel = "stylesheet" href = "https://ajax.googleapis.com/ajax/libs/angular_material/1.1.10/angular-material.min.css">

	<link rel="icon" href="./Resources/favicon.ico" type="image/x-icon"/>
	<title>User Profile</title>

	<div ng-show="!userId" class="ng-cloak" align="right">
		<a href="./login.html" style="padding-right: 30px"><i class="fas fa-sign-in-alt"></i> Sign in </a>
		<a href="./registration.html" style="padding-right: 30px"><i class="fas fa-plus-square"></i> Register </a>
	</div>

	<div ng-show="userId" class="ng-cloak" align="right">
		<a href="./user.html" style="padding-right: 30px"><i class="fas fa-id-card"></i> {{ userData.userId }} </a>
		<a href="./upload.html" style="color:green;padding-right: 30px"><i class="fas fa-upload"></i> Upload </a>
		<a href="#" style="color:red;padding-right: 30px" ng-click="signOut()">
		<i class="fas fa-sign-out-alt"></i> Sign out </a>
	</div>
	<a href="./index.html"><img src="./Resources/logo.png" alt="Quiry Search Engine" style="width:100px;height:40px;"></img></a>
	</head>
	<body>
	<div ng-cloak ng-hide="userId == null">
		<h1 class="header">Hello, {{ userData.firstName + " " + userData.lastName }}</h1>
		<br/>
		<div class="container ng-cloak">
			<div class="row">
				<div class="col-md-5">
					<div class="container border border-info rounded padded-light ng-cloak">
						<div class="row">
							<div class="col-md-12 text-center" style="padding: 25px 25px 25px 25px;">
								<i class="fas fa-user-circle fa-10x"></i>
							</div>
							<div ng-show="!editing" class="col-md-12" style="padding: 25px 25px 25px 25px;">
								<label style="width: 20%">UTORid:</label>
								<label style="width: 75%">{{ userData.userId }}</label>
								<br/>
								<label style="width: 20%">Status:</label>
								<label style="width: 75%">{{ getAccountType(userData.accessLevel) }}</label>
								<br/>
								<label style="width: 20%">Email:</label>
								<label style="width: 75%">{{ userData.email }}</label>
							</div>
							<div ng-show="!editing" class="col-md-12 text-center">
								<md-button class="md-raised md-primary" type="submit" ng-click="edit()"> Modify </md-button>
							</div>
							<div ng-show="editing" class="col-md-12" style="padding: 25px 25px 25px 25px;">
								<label for="firstName">First Name:</label>
								<input type="text" style="width: 100%" name="firstName" ng-model="firstName"/>
								<br/>
								<label for="lastName">Last Name:</label>
								<input type="text" style="width: 100%" name="lastName" ng-model="lastName"/>
								<br/>
								<label for="email">Email:</label>
								<input type="text" style="width: 100%" name="email" ng-model="email"/>
								<br/>
								<label for="oldPassword">Old Password:</label>
								<input type="password" style="width: 100%" name="oldPssword" ng-model="oldPassword" placeholder="Enter password to confirm changes"/>
								<br/>
								<label for="newPassword">New Password:</label>
								<input type="password" style="width: 100%" name="newPassword" ng-model="newPassword" placeholder="(optional)"/>
								<br/>
								<label for="confirmPassword">Confirm New Password:</label>
								<input type="password" style="width: 100%" name="confirmPassword" ng-model="confirmPassword" placeholder="(optional)"/>
							</div>
							<div ng-show="editing" class="col-md-12 text-center">
								<span ng-show="message.length" id="statusMessage" style="color:red">{{ message }}<br/></span>
								<md-button class="md-raised md-primary" type="submit" ng-click="cancel()"> Cancel </md-button>
								<md-button class="md-raised md-primary" type="submit" ng-disabled="!oldPassword.length || newPassword != confirmPassword" ng-click="modify()"> Submit </md-button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-7">
					User uploaded files go here.
				</div>
			</div>
		</div>
	</div>
	<div ng-show="userId == null" class="centered-body">
		<h1 class="header">User Profile</h1>
		You must be signed in to access this Feature.
		<a href="./login.html"><br/> Sign in Here</a>
		<a href="./registration.html"><br/>or Sign up for an Account Here</a>
	</div>
	<br/>
	<br/>
	<br/>
	</body>
	<!-- AngularJS libraries -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular-aria.js"></script>
  	<script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.10/angular-material.min.js"></script>


	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!-- Bootstrap -- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-sanitize.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.min.js"></script>

	<!-- ng-tag dependency -->
	<script src="http://mbenford.github.io/ngTagsInput/js/ng-tags-input.min.js"></script>

	<!-- Bootstrap -- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	<script src="./route.js"></script>
	<script src="./Controller/user.js"></script>
	<script src="./Service/storage.js"></script>
</html>
